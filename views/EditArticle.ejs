
    
    <%- include('reuseables/Header.ejs') %>
    <%- include('reuseables/Navbar.ejs') %>


    
    <div class="w-full flex justify-center items-center">
    <div class="w-11/12 sm:w-7/12 mx-auto my-4">
        <% if(messages.error){%>
            <p class="text-black w-8/12 mx-auto py-2 bg-red-200 text-center my-2"><%= messages.error %></p>
      <% }  %>
      <% if(messages.success){%>
        <p class="text-black w-8/12 mx-auto py-2 bg-green-200 text-center my-2"><%= messages.success %></p>
  <% }  %>

        <form method="post" action="/article/edit" enctype="multipart/form-data">
            <div class="mb-3">
              <input type="hidden" required name="articleId" placeholder="Article_Id ...." class="outline-blue-300  border-2 py-2 px-3 w-full rounded-md" value="<%= article._id %>" >
              <input type="text" required name="headline" placeholder="Headline ...." class="outline-blue-300  border-2 py-2 px-3 w-full rounded-md" value="<%= article.headline %>" >
            </div>
            <div class="mb-3">
              <input name="subHeadline" required   type="text" placeholder="subHeadline .... " class="outline-blue-300  border-2 py-2 px-3 w-full rounded-md" value="<%= article.subHeadline %>" >
            </div>
            
            <div class="mb-3 flex justify-center items-center outline-blue-300  border-2 relative">

                <label for="image_input" class="pencil cursor-pointer absolute bg-yellow-300 top-2 right-2 bg-white w-12 h-12 flex justify-center items-center rounded-full"><i class="fa-solid fa-pen fa-xl"></i></label>
                <input type="file" name="image" class="hidden"  onchange="PreviewImage();" id="image_input">
                <img src="/uploads/<%= article.image %>" alt="" id="uploadPreview"  class="w-[20rem] h-[20rem]">
              </div>

            <div class="mb-3">
               <textarea name="content" required id=""  rows="7" class="outline-blue-300  border-2 py-2 px-3 w-full rounded-md" placeholder="Content ...."><%= article.content %> </textarea>
            </div>
            <div class="">
              <button type="submit" class="py-1 px-3 bgThemeClr text-white rounded-sm font-bold w-full">Update Article</button>
            </div>
          </form>
       
        </div>
    
     
    </div>




    
    <%- include('reuseables/Footer.ejs') %>


    <script type="text/javascript">

        function PreviewImage() {
            var oFReader = new FileReader();
            oFReader.readAsDataURL(document.getElementById("image_input").files[0]);
    
            oFReader.onload = function (oFREvent) {
                document.getElementById("uploadPreview").src = oFREvent.target.result;
            };
        };
    
    </script>



